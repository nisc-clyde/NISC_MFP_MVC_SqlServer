@model NISC_MFP_MVC.ViewModels.User.AdminAreas.UserViewModel

@{
    var authoriths = new List<string>();
    if (!string.IsNullOrWhiteSpace(Model.authority))
    {
        authoriths = Model.authority.Split(',').ToList();
    }

}

<div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content">
        @using (Html.BeginForm("UserPermissionConfig", "User", FormMethod.Post, new { id = "permissionForm", @class = "overflow-auto" }))
        {
            @Html.AntiForgeryToken()

            <div class="modal-header">
                <h1 class="modal-title fs-4 fw-bold" id="exampleModalLabel">@ViewBag.formTitle</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body ui-front">

                <table id="deleteDataTable" class="table table-striped table-bordered w-100 fs-6">
                    <thead>
                    <tr>
                        <th>帳號</th>
                        <th>密碼</th>
                        <th>姓名</th>
                        <th>部門名稱</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr id="deleteRowData">
                        <th id="user_id">@Model.user_id</th>
                        <th id="user_password">@Model.user_password</th>
                        <th id="user_name">@Model.user_name</th>
                        <th id="dept_name">@Model.dept_name</th>
                    </tr>
                    </tbody>
                </table>

                <div class="container">
                    <div class="row gy-2 fs-6">
                        <div class="col-6">
                            <div class="row border border-info border-2 rounded">
                                <div class="col-5">
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="checkbox" id="checkBoxPermissionPrint" value="print" @(authoriths.Contains("print") ? "checked" : "")>
                                        <label class="form-check-label" for="checkBoxPermissionPrint">使用紀錄</label>
                                    </div>
                                </div>
                                <div class="col-2">
                                    <i class="fa-solid fa-link-slash" id="chainOfPrintWithView"></i>
                                </div>
                                <div class="col-5">
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="checkbox" id="checkBoxPermissionView" value="view" @(authoriths.Contains("view") ? "checked" : "")>
                                        <label class="form-check-label" for="checkBoxPermissionView">檔案檢視</label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="checkBoxPermissionDeposit" value="deposit" @(authoriths.Contains("deposit") ? "checked" : "")>
                                <label class="form-check-label" for="checkBoxPermissionDeposit">儲值紀錄</label>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" id="checkBoxPermissionDepartment" value="department" @(authoriths.Contains("department") ? "checked" : "")>
                                <label class="form-check-label" for="checkBoxPermissionDepartment">部門管理</label>
                            </div>

                        </div>
                        <div class="col-6">
                            <div class="row border border-info border-2 rounded">
                                <div class="col-5">
                                    <div class="form-check form-check-inline">
                                        <input class="form-check-input" type="checkbox" id="checkBoxPermissionUser" value="user" @(authoriths.Contains("user") ? "checked" : "")>
                                        <label class="form-check-label" for="checkBoxPermissionUser">使用者管理</label>
                                    </div>
                                </div>
                                <div class="col-2">
                                    <i class="fa-solid fa-link-slash" id="chainOfUserWithManagePermission"></i>
                                </div>
                                <div class="col-5">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="checkBoxPermissionManagePermission" value="manage_permission" @(authoriths.Contains("manage_permission") ? "checked" : "")>
                                        <label class="form-check-label" for="checkBoxPermissionManagePermission">權限管理</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="checkBoxPermissionCard" value="card" @(authoriths.Contains("card") ? "checked" : "")>
                                <label class="form-check-label" for="checkBoxPermissionCard">卡片管理</label>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="checkBoxPermissionWatermark" value="watermark" @(authoriths.Contains("watermark") ? "checked" : "")>
                                <label class="form-check-label" for="checkBoxPermissionWatermark">浮水印管理</label>
                            </div>
                        </div>
                        <div class="col-3 border-bottom border-1 ">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="checkBoxPermissionHistory" value="history" @(authoriths.Contains("history") ? "checked" : "")>
                                <label class="form-check-label" for="checkBoxPermissionHistory">操作紀錄查詢</label>
                            </div>
                        </div>
                        <div class="col-3 border-bottom border-1 ">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="checkBoxPermissionSystem" value="system" @(authoriths.Contains("system") ? "checked" : "")>
                                <label class="form-check-label" for="checkBoxPermissionSystem">系統管理</label>
                            </div>
                        </div>
                        <div class="col-3 border-bottom border-1 ">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="checkBoxPermissionOutputReport" value="outputreport" @(authoriths.Contains("outputreport") ? "checked" : "")>
                                <label class="form-check-label" for="checkBoxPermissionOutputReport">報表選項</label>
                            </div>
                        </div>
                        <div class="col-3 border-bottom border-1 ">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="checkBoxPermissionCardReader" value="cardreader" @(authoriths.Contains("cardreader") ? "checked" : "")>
                                <label class="form-check-label" for="checkBoxPermissionCardReader">事務機管理</label>
                            </div>
                        </div>
                        <div class="col">
                            <button type="button" id="btnChekcedClearAll" class="btn btn-danger btn-sm">清除</button>
                            <button type="button" id="btnChekcedAll" class="btn btn-info btn-sm">全選</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                <button type="submit" id="btnSubmmit" value="Confirm" class="btn btn-success">確定</button>
            </div>
        }
    </div>
</div>